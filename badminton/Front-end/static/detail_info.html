<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>电商后台管理</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/sidebar-menu.css">
    <link rel="stylesheet" type="text/css" href="css/dmaku.css"/>
    <link rel="stylesheet" href="css/chart.css">
    <script src="js/echarts.min.js"></script>


</head>

<body>
<aside class="main-sidebar">
    <section class="sidebar">
        <ul class="sidebar-menu">
            <li class="header">MAIN NAVIGATION</li>
            <li class="treeview">
                <a href="#">
                    <i class="fa fa-dashboard"></i> <span>Dashboard</span> <i
                        class="fa fa-angle-left pull-right"></i>
                </a>
                <ul class="treeview-menu">
                    <li><a href="#"><i class="fa fa-circle-o"></i> Dashboard v1</a></li>
                    <li><a href="#"><i class="fa fa-circle-o"></i> Dashboard v2</a></li>
                </ul>
            </li>

            <li>
                <a href="#">
                    <i class="fa fa-th"></i> <span>Widgets</span>
                    <small class="label pull-right label-info">new</small>
                </a>
            </li>
            <li class="treeview">
                <a href="#">
                    <i class="fa fa-pie-chart"></i>
                    <span>Charts</span>
                    <i class="fa fa-angle-left pull-right"></i>
                </a>

                <ul class="treeview-menu">
                    <li>
                        <a href="backstage.html"><i class="fa fa-circle-o"></i>Cell Basic Info</a>
                    </li>
                    <li>
                        <a href="detail_info.html"><i class="fa fa-circle-o"></i>Detail Info</a>
                    </li>
                    <li>
                        <a href="#"><i class="fa fa-circle-o"></i>Orders About Time</a>
                    </li>
                </ul>
            </li>
            <li class="treeview">
                <a href="#">
                    <i class="fa fa-laptop"></i>
                    <span>UI Elements</span>
                    <i class="fa fa-angle-left pull-right"></i>
                </a>
                <ul class="treeview-menu">
                    <li><a href="#"><i class="fa fa-circle-o"></i> General</a></li>
                    <li><a href="#"><i class="fa fa-circle-o"></i> Icons</a></li>
                    <li><a href="#"><i class="fa fa-circle-o"></i> Buttons</a></li>
                    <li><a href="#"><i class="fa fa-circle-o"></i> Sliders</a></li>
                    <li><a href="#"><i class="fa fa-circle-o"></i> Timeline</a></li>
                    <li><a href="#"><i class="fa fa-circle-o"></i> Modals</a></li>
                </ul>
            </li>
            <li class="treeview">
                <a href="#">
                    <i class="fa fa-edit"></i> <span>Forms</span>
                    <i class="fa fa-angle-left pull-right"></i>
                </a>
                <ul class="treeview-menu">
                    <li><a href="#"><i class="fa fa-circle-o"></i> General Elements</a></li>
                    <li><a href="#"><i class="fa fa-circle-o"></i> Advanced Elements</a></li>
                    <li><a href="#"><i class="fa fa-circle-o"></i> Editors</a></li>
                </ul>
            </li>
            <li class="treeview">
                <a href="#">
                    <i class="fa fa-table"></i> <span>Tables</span>
                    <i class="fa fa-angle-left pull-right"></i>
                </a>
                <ul class="treeview-menu">
                    <li><a href="#"><i class="fa fa-circle-o"></i> Simple tables</a></li>
                    <li><a href="#"><i class="fa fa-circle-o"></i> Data tables</a></li>
                </ul>
            </li>
            <li>
                <a href="#">
                    <i class="fa fa-calendar"></i> <span>Calendar</span>
                    <small class="label pull-right label-danger">3</small>
                </a>
            </li>
            <li>
                <a href="#">
                    <i class="fa fa-envelope"></i> <span>Mailbox</span>
                    <small class="label pull-right label-warning">12</small>
                </a>
            </li>
            <li class="treeview">
                <a href="#">
                    <i class="fa fa-folder"></i> <span>Examples</span>
                    <i class="fa fa-angle-left pull-right"></i>
                </a>
                <ul class="treeview-menu">
                    							<li>
								<a href="brand.html"><i class="fa fa-circle-o"></i> Brand Chart</a>
							</li>
							<li>
								<a href="grade.html"><i class="fa fa-circle-o"></i> Grade Chart</a>
							</li>
							<li>
								<a href="species.html"><i class="fa fa-circle-o"></i> Species Chart</a>
							</li>
							<li>
								<a href="species_rose.html"><i class="fa fa-circle-o"></i> Species Rose Chart</a>
							</li>
							<li>
								<a href="#"><i class="fa fa-circle-o"></i> Lockscreen</a>
							</li>
							<li>
								<a href="#"><i class="fa fa-circle-o"></i> 404 Error</a>
							</li>
							<li>
								<a href="#"><i class="fa fa-circle-o"></i> 500 Error</a>
							</li>
							<li>
								<a href="#"><i class="fa fa-circle-o"></i> Blank Page</a>
							</li>
							<li>
								<a href="#"><i class="fa fa-circle-o"></i> Pace Page</a>
							</li>

                </ul>
            </li>
            <li class="treeview">
                <a href="#">
                    <i class="fa fa-share"></i> <span>Multilevel</span>
                    <i class="fa fa-angle-left pull-right"></i>
                </a>
                <ul class="treeview-menu">
                    <li><a href="#"><i class="fa fa-circle-o"></i> Level One</a></li>
                    <li>
                        <a href="#"><i class="fa fa-circle-o"></i> Level One <i
                                class="fa fa-angle-left pull-right"></i></a>
                        <ul class="treeview-menu">
                            <li><a href="#"><i class="fa fa-circle-o"></i> Level Two</a></li>
                            <li>
                                <a href="#"><i class="fa fa-circle-o"></i> Level Two <i
                                        class="fa fa-angle-left pull-right"></i></a>
                                <ul class="treeview-menu">
                                    <li><a href="#"><i class="fa fa-circle-o"></i> Level Three</a></li>
                                    <li><a href="#"><i class="fa fa-circle-o"></i> Level Three</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li><a href="#"><i class="fa fa-circle-o"></i> Level One</a></li>
                </ul>
            </li>
            <li><a href="#"><i class="fa fa-book"></i> <span>Documentation</span></a></li>
            <li class="header">LABELS</li>
            <li><a href="#"><i class="fa fa-circle-o text-red"></i> <span>Important</span></a></li>
            <li><a href="#"><i class="fa fa-circle-o text-yellow"></i> <span>Warning</span></a></li>
            <li><a href="#"><i class="fa fa-circle-o text-aqua"></i> <span>Information</span></a></li>
            <li><a href="#"><i class="fa fa-circle-o text-aqua"></i> <span>Information</span></a></li>
            <li><a href="#"><i class="fa fa-circle-o text-aqua"></i> <span>Information</span></a></li>
            <li><a href="#"><i class="fa fa-circle-o text-aqua"></i> <span>Information</span></a></li>
        </ul>
    </section>
</aside>

<div class="workspace">
    <div id="species_chart" class="pie_chart">

    </div>
    <div id="tough_chart" class="pie_chart">

    </div>

    <div id="time_chart">

    </div>

</div>


<script src="js/jquery-2.1.1.min.js"></script>
<script src="js/sidebar-menu.js"></script>
<script>
    $.sidebarMenu($('.sidebar-menu'))

</script>
<script>
    let species_data = echarts.init(document.getElementById('species_chart'));
    fetch('/api/species_data_')
        .then(resp => resp.json())
        .then(json => {
            let species_chart_option = {
                title: {
                    text: '羽毛球拍品牌数量',
                    textStyle: {
                        color: '#fff',
                        fontFamily: 'Consolas',
                        fontWeight: 'normal'
                    }
                },
                // legend: {
                //     top: 'bottom',
                //     itemWidth: 20,
                //     itemHeight: 10
                // },
                legend: {
                    orient: 'vertical',
                    top: '18%',
                    left: "5%"
                    // Left:'right'
                    // left: 'center'
                },
                toolbox: {
                    show: true,
                    feature: {
                        mark: {show: true},
                        dataView: {show: true, readOnly: false},
                        restore: {show: true},
                        saveAsImage: {show: true}
                    }
                },
                tooltip: {
                    trigger: 'item'
                },
                series: [
                    {
                        label: {
                            show: false
                        },
                        name: '品牌',
                        type: 'pie',
                        radius: "80%",
                        center: ['60%', '50%'],
                        roseType: 'area',
                        itemStyle: {
                            borderRadius: 8
                        },
                        data: json.data_pie
                    }
                ]
            }
            species_data.setOption(species_chart_option);
        })

    let tough_chart = echarts.init(document.getElementById('tough_chart'));
    fetch('/api/tough_data')
        .then(resp => resp.json())
        .then(json => {
            let tough_chart_options = {
                title: {
                    text: '球拍软硬程度',
                    textStyle: {
                        color: '#fff',
                        fontFamily: 'Consolas',
                        fontWeight: 'normal'
                    }
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow'
                    }
                },
                grid: {
                    left: '1%',
                    right: '5%',
                    bottom: '2%',
                    containLabel: true
                },
                xAxis: {
                    type: 'value',
                    boundaryGap: [0, 0.01],
                    splitLine: {
                        show: false
                    }
                },
                yAxis: {
                    type: 'category',
                    data: json.y_value
                },
                series: [
                    {
                        name: '数量',
                        type: 'bar',
                        barWidth: 25,
                        data: json.x_value,
                        itemStyle: {
                            normal: {
                                //每个柱子的颜色即为colorList数组里的每一项，如果柱子数目多于colorList的长度，则柱子颜色循环使用该数组
                                color: function (params) {
                                    var colorList = ['rgb(164,205,238)', 'rgb(42,170,227)', 'rgb(25,46,94)', 'rgb(195,229,235)', 'rgb(25,46,94)', 'rgb(42,170,227)'];
                                    return colorList[params.dataIndex];
                                }
                            },
                        }
                    }

                ]
            };
            tough_chart.setOption(tough_chart_options);


        })

    let time_chart= echarts.init(document.getElementById("time_chart"));

    fetch("/api/time_data")
        .then((resp) => resp.json())
        .then((json) => {
            let time_chart_options= {
                title: {
                    text: "种类数量图",
                    textStyle: {
                        color: "#fff",
                        fontFamily: "Consolas",
                        fontWeight: "normal",
                    },
                },
                visualMap: {
                    orient: "vertical",
                    left: "95%",
                    top: "30%",
                    min: 50,
                    max: 150,
                    text: ["Hnum", "Lnum"],
                    // Map the score column to color
                    dimension: 1,
                    inRange: {
                        color: ["#65B581", "#FFCE34", "#FD665F"],
                    },
                },
                dataZoom: {
                    id: "dataZoomX",
                    type: "slider",
                    xAxisIndex: [0],
                    filterMode: "filter", // 设定为 'filter' 从而 X 的窗口变化会影响 Y 的范围。
                    start: 0,
                    end: 100,
                },

                toolbox: {
                    show: true,
                    feature: {
                        dataZoom: {
                            yAxisIndex: "none",
                        },
                        dataView: {readOnly: false},
                        magicType: {type: ["line", "bar"]},
                        restore: {},
                        saveAsImage: {},
                    },
                },
                tooltip: {},
                legend: {
                    data: ["数量"],
                },
                xAxis: {
                    data: json.time,
                },
                yAxis: {
                    axisLine: {
                        show: true,
                    },
                    splitLine: {
                        show: false,
                    },
                },
                series: [
                    {
                        name: "数量",
                        type: "bar",
                        barWidth: 30,
                        data: json.numbers,
                    },
                ],
            };

            time_chart.setOption(time_chart_options);
        });


</script>
</body>

</html>